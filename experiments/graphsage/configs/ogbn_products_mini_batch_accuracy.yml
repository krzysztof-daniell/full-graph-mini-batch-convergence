name: graphsage - ogbn-products - mini-batch - accuracy
conditionals:
  - name: num_layers
    values: ['2', '3', '4', '5']
parameters: 
  - name: lr
    type: double
    transformation: log
    bounds:
      min: 0.0001
      max: 0.05
  - name: hidden_feats_layer_1
    type: int
    conditions: 
      num_layers: ['2', '3', '4', '5']
    grid: [16, 32, 64, 128, 256, 512]
  - name: hidden_feats_layer_2
    type: int
    conditions: 
      num_layers: ['3', '4', '5']
    grid: [16, 32, 64, 128, 256, 512]
  - name: hidden_feats_layer_3
    type: int
    conditions: 
      num_layers: ['4', '5']
    grid: [16, 32, 64, 128, 256, 512]
  - name: hidden_feats_layer_4
    type: int
    conditions: 
      num_layers: ['5']
    grid: [16, 32, 64, 128, 256, 512]
  - name: aggregator_type
    type: categorical
    categorical_values: [gcn, mean]
  - name: batch_norm
    type: int
    grid: [0, 1]
  - name: activation
    type: categorical
    categorical_values: [leaky_relu, relu]
  - name: input_dropout
    type: double
    grid: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7]
  - name: dropout
    type: double
    grid: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7]
  - name: batch_size
    type: int
    grid: [256, 512, 1024, 2048, 4096]
  - name: max_batch_num_nodes
    type: int
    grid: [100000, 200000, 400000, 800000, 1600000, 3200000]
  - name: fanout_slope
    type: double
    grid: [0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.9, 2]
metrics:
  - name: best epoch 
    strategy: store
    objective: minimize
  - name: best epoch - train loss
    strategy: store
    objective: minimize
  - name: best epoch - train score
    strategy: store
    objective: maximize
  - name: best epoch - valid loss
    strategy: optimize
    objective: minimize
  - name: best epoch - valid score
    strategy: store
    objective: maximize
  - name: best epoch - training time
    strategy: store
    objective: minimize
  - name: avg train epoch time
    strategy: store
    objective: minimize
  - name: avg valid epoch time
    strategy: store
    objective: minimize
budget: 100
parallel_bandwidth: 4
