# mini_batch_experiment.yml
name: POC - graphsage + mini batch ogb-products
parameters: 
  - name: lr
    type: double
    transformation: log
    bounds:
      min: 1e-4
      max: 5e-2
  - name: hidden_feats
    type: int
    grid: [8, 16, 32, 64, 128, 256]
  - name: number_of_layers
    type: int
    bounds:
      min: 1
      max: 4
  - name: aggregator_type
    type: categorical
    categorical_values: [gcn, mean]
  - name: batch_norm
    type: categorical
    categorical_values: [True, False]
  - name: activation
    type: categorical
    categorical_values: [leaky_relu, relu]
  - name: dropout
    type: double
    bounds:
      min: 0.01
      max: 0.7
    prior:
      name: beta
      shape_a: 2
      shape_b: 3
  - name: batch_size
    type: int
    grid: [50, 100, 250, 500, 750, 1000]
metrics:
  - name: best epoch 
    strategy: store
    objective: minimize
  - name: best epoch - train loss
    strategy: store
    objective: minimize
  - name: best epoch - train accuracy
    strategy: store
    objective: maximize
  - name: best epoch - valid loss
    strategy: optimize
    objective: minimize
  - name: best epoch - valid accuracy
    strategy: store
    objective: maximize
  - name: best epoch - training time
    strategy: store
    objective: minimize
  - name: avg train epoch time
    strategy: store
    objective: minimize
  - name: avg valid epoch time
    strategy: store
    objective: minimize
budget: 50
parallel_bandwidth: 3

